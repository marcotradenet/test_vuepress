(window.webpackJsonp=window.webpackJsonp||[]).push([[155],{447:function(e,a,t){"use strict";t.r(a);var r=t(14),s=Object(r.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"handling-a-validator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#handling-a-validator"}},[e._v("#")]),e._v(" Handling a validator")]),e._v(" "),a("p",[e._v("Once you've properly set up a "),a("RouterLink",{attrs:{to:"/nodes/validator-node-installation.html"}},[e._v("validator node")]),e._v(", it must be subject to certain rules and certain operations must be carried out to manage it.")],1),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#handling-a-validator"}},[e._v("Handling a validator")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#downtime-rules"}},[e._v("Downtime rules")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#double-sign-rules"}},[e._v("Double sign rules")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#unjail-procedure"}},[e._v("Unjail procedure")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#unbond-procedure"}},[e._v("Unbond procedure")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#redelegate-procedure"}},[e._v("Redelegate procedure")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#move-node-to-other-server"}},[e._v("Move node to other server")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#move-validator-to-another-server-with-priv_validator_keyjson-file"}},[e._v("Move validator to another server with "),a("code",[e._v("priv_validator_key.json")]),e._v(" file")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#move-validator-to-another-server-with-kms"}},[e._v("Move validator to another server with "),a("code",[e._v("kms")])])]),e._v(" "),a("li",[a("a",{attrs:{href:"#resume-validator-after-break-down-with-priv_validator_keyjson-file"}},[e._v("Resume validator after break down with "),a("code",[e._v("priv_validator_key.json")]),e._v(" file")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#resume-validator-after-break-down-with-kms"}},[e._v("Resume validator after break down with "),a("code",[e._v("kms")])])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"#x-loss-of-blocks"}},[e._v("x% Loss of blocks")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#add-identity-to-your-validator"}},[e._v("Add identity to your validator")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#references-keybase"}},[e._v("References keybase")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#1-registration"}},[e._v("1. Registration")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#2-adding-one-or-more-devices"}},[e._v("2. Adding one or more devices")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#21-program-installation-on-computers"}},[e._v("2.1. Program installation on computers")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#22-app-installation-on-iphone-and-android"}},[e._v("2.2. App installation on iPhone and Android")])])])]),e._v(" "),a("li",[a("a",{attrs:{href:"#3-verify-email"}},[e._v("3. Verify email")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#4-add-logo-and-key"}},[e._v("4. Add logo and key")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#5-edit-your-validator-adding-identity"}},[e._v("5. Edit your validator adding identity")])])])])])])]),e._v(" "),a("h2",{attrs:{id:"downtime-rules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#downtime-rules"}},[e._v("#")]),e._v(" Downtime rules")]),e._v(" "),a("p",[e._v("The node can only stay offline for a certain amount of time."),a("br"),e._v("\nIn the case of "),a("strong",[e._v("Commercio Network")]),e._v(" this period has been fixed at 10,000 blocks lost, approximately corresponding to 17/18 hours.\nValidator must validate at least 5% of the 10,000 blocks.\nIf the node remains offline or fails to produce blocks for a period longer than the limit, it will incur slashing, i.e. an immediate loss of a certain amount of the staked tokens."),a("br"),e._v(" "),a("strong",[e._v('For "Commercio Network" the slashing percentage for downtime is set at '),a("code",[e._v("1%")]),e._v(".")])]),e._v(" "),a("h2",{attrs:{id:"double-sign-rules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#double-sign-rules"}},[e._v("#")]),e._v(" Double sign rules")]),e._v(" "),a("p",[e._v("A validator node must be unique on the chain, so only a node can sign with that private key."),a("br"),e._v("\nIf there was another node with the same private key, this would result in a double signature, and therefore an immediate jail entry of the node with no exit possibility."),a("br"),e._v(" "),a("strong",[e._v('For "Commercio Network" the slashing percentage for double sing is set at '),a("code",[e._v("5%")]),e._v(".")]),a("br"),e._v("\nIf you run into double signatures all tokens must be unbond and you must create a new validator node with new private keys.")]),e._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),a("p",[e._v("The unbond period is 21 days, so is necessary to wait this period to get back in possession of your tokens.")])]),e._v(" "),a("h2",{attrs:{id:"unjail-procedure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unjail-procedure"}},[e._v("#")]),e._v(" Unjail procedure")]),e._v(" "),a("p",[e._v("In case a validator ended up jail for downtime, it is necessary that the wallet that created the validator performs a ujail transaction."),a("br"),e._v("\nThe follow command must be performed")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("commercionetworkd tx slashing "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  unjail "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--from")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("your pub addr creator val"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--fees")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("10000ucommercio  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --chain-id"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$CHAINID")]),e._v('"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v("\n")])])]),a("p",[a("strong",[e._v("Note")]),e._v(": You can use "),a("code",[e._v("uccc")]),e._v(" tokens instead "),a("code",[e._v("ucommercio")]),e._v(" for the "),a("code",[e._v("fees")]),e._v(" value")]),e._v(" "),a("p",[e._v("If you are using the "),a("strong",[e._v("Ledger device")]),e._v(" you must first connect it to your computer, start the cosmos application and add "),a("code",[e._v("--ledger")]),e._v(" flag to the command.")]),e._v(" "),a("h2",{attrs:{id:"unbond-procedure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unbond-procedure"}},[e._v("#")]),e._v(" Unbond procedure")]),e._v(" "),a("p",[e._v("Tokens can be delegated to any validator to increase its stake."),a("br"),e._v("\nIn case you want to remove all or part of the delegated tokens, an "),a("code",[e._v("unbond transaction")]),e._v(" must be performed."),a("br"),e._v("\nThe undelegated period is "),a("strong",[e._v("21 days")]),e._v(", so is necessary to wait this period to get back in possession of your tokens."),a("br"),e._v("\nTo perform "),a("code",[e._v("unbond transaction")]),e._v(" use the follow command")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("commercionetworkd tx staking "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  unbond "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("validator-operator-addr"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  50000000000ucommercio "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--from")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("your pub addr delegator"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--fees")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("10000ucommercio  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --chain-id"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$CHAINID")]),e._v('"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v("\n")])])]),a("p",[a("strong",[e._v("Note")]),e._v(": You can use "),a("code",[e._v("uccc")]),e._v(" tokens instead "),a("code",[e._v("ucommercio")]),e._v(" for the "),a("code",[e._v("fees")]),e._v(" value")]),e._v(" "),a("p",[e._v("value of "),a("code",[e._v("<validator-operator-addr>")]),e._v(" can be obtain from explorer:")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://testnet.commercio.network/it/validators",target:"_blank",rel:"noopener noreferrer"}},[e._v("Commercio.network explorer Testnet"),a("OutboundLink")],1),e._v("."),a("br"),e._v(" "),a("a",{attrs:{href:"https://mainnet.commercio.network/it/validators",target:"_blank",rel:"noopener noreferrer"}},[e._v("Commercio.network explorer Mainnet"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("If you see your validator in the list click on its name."),a("br"),e._v("\nThe validator tab should have the value "),a("strong",[e._v("Operator")]),e._v(". That value is your "),a("code",[e._v("<validator-operator-addr>")])]),e._v(" "),a("p",[e._v("If you are using the "),a("strong",[e._v("Ledger device")]),e._v(" you must first connect it to your computer, start the cosmos application and add "),a("code",[e._v("--ledger")]),e._v(" flag to the command.")]),e._v(" "),a("h2",{attrs:{id:"redelegate-procedure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redelegate-procedure"}},[e._v("#")]),e._v(" Redelegate procedure")]),e._v(" "),a("p",[e._v("It is possible to perform a procedure of moving tokens in stake from one validator to another through the "),a("code",[e._v("redelegate transaction")]),e._v("."),a("br"),e._v("\nTo perform "),a("code",[e._v("redelegate transaction")]),e._v(" use the follow command")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("commercionetworkd tx staking "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  redelegate "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("source-validator-operator-addr"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("destination-validator-operator-addr"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  50000000000ucommercio "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--from")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("your pub addr delegator"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--fees")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("10000ucommercio "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --chain-id"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$CHAINID")]),e._v('"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v("\n")])])]),a("p",[a("strong",[e._v("Note")]),e._v(": You can use "),a("code",[e._v("uccc")]),e._v(" tokens instead "),a("code",[e._v("ucommercio")]),e._v(" for the "),a("code",[e._v("fees")]),e._v(" value")]),e._v(" "),a("p",[e._v("value of "),a("code",[e._v("<source-validator-operator-addr>")]),e._v(" and "),a("code",[e._v("<destination-validator-operator-addr>")]),e._v(" can be obtains from explorer:")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://testnet.commercio.network/it/validators",target:"_blank",rel:"noopener noreferrer"}},[e._v("Commercio.network explorer Testnet"),a("OutboundLink")],1),e._v("."),a("br"),e._v(" "),a("a",{attrs:{href:"https://mainnet.commercio.network/it/validators",target:"_blank",rel:"noopener noreferrer"}},[e._v("Commercio.network explorer Mainnet"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Search your source validator in the list, i.e. the validator you want to move the tokens from, and click on its name."),a("br"),e._v("\nThe validator tab should have the value "),a("strong",[e._v("Operator")]),e._v(". That value is your "),a("code",[e._v("<source-validator-operator-addr>")]),a("br"),e._v("\nReturn to the list of validators and search your destination validator, i.e. the validator you want to move the tokens to, and click on its name."),a("br"),e._v("\nThe validator tab should have the value "),a("strong",[e._v("Operator")]),e._v(". That value is your "),a("code",[e._v("<destination-validator-operator-addr>")])]),e._v(" "),a("p",[e._v("If you are using the "),a("strong",[e._v("Ledger device")]),e._v(" you must first connect it to your computer, start the cosmos application and add "),a("code",[e._v("--ledger")]),e._v(" flag to the command.")]),e._v(" "),a("h2",{attrs:{id:"move-node-to-other-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#move-node-to-other-server"}},[e._v("#")]),e._v(" Move node to other server")]),e._v(" "),a("p",[e._v("If you need to move your validator to another server, the only thing that you need to move is your private key."),a("br"),e._v("\nYour node structure should be something like below")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v(".commercionetwork\n├── config\n│   └── app.toml\n│   └── config.toml\n│   └── genesis.json\n│   └── node_id.json\n│   └── priv_validator_key.json\n├── data\n│   └── priv_validator_state.json\n└── cosmovisor\n    └── current\n    └── genesis\n    └── bin\n    │   └── commercionetword\n    └── upgrades\n    └── "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n        └── bin\n            └── commercionetword\n\n")])])]),a("p",[e._v("If you don't use "),a("code",[e._v("kms")]),e._v(" the private key of your validator is saved in "),a("code",[e._v("priv_validator_key.json")]),e._v(" file.")]),e._v(" "),a("h3",{attrs:{id:"move-validator-to-another-server-with-priv-validator-key-json-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#move-validator-to-another-server-with-priv-validator-key-json-file"}},[e._v("#")]),e._v(" Move validator to another server with "),a("code",[e._v("priv_validator_key.json")]),e._v(" file")]),e._v(" "),a("ol",[a("li",[e._v("Install a full node in the new server")]),e._v(" "),a("li",[e._v("Stop the full node "),a("code",[e._v("commercionetword")]),e._v(" service in the new server"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("systemctl stop commercionetword\n")])])])]),e._v(" "),a("li",[e._v("Copy "),a("code",[e._v("data")]),e._v(" folder to the new server"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("rsync")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-av")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--delete")]),e._v(" ~/.commercionetwork/data/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("USER_NEW_SERVER"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("IP_NEW_SERVER"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(":.commercionetwork/data/\n")])])])]),e._v(" "),a("li",[e._v("Stop and disable the "),a("code",[e._v("commercionetword")]),e._v(" service in the current server of validator node"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("systemctl stop commercionetword\nsystemctl disable commercionetword\n")])])])]),e._v(" "),a("li",[e._v("Sync again your new node "),a("code",[e._v("data")]),e._v(" folder"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("rsync")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-av")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--delete")]),e._v(" ~/.commercionetwork/data/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("USER_NEW_SERVER"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("IP_NEW_SERVER"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(":.commercionetwork/data/\n")])])])]),e._v(" "),a("li",[e._v("Copy your "),a("code",[e._v("priv_validator_key.json")]),e._v(" in the new server"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("scp")]),e._v(" ~/.commercionetwork/config/priv_validator_key.json "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("USER_NEW_SERVER"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("IP_NEW_SERVER"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(":.commercionetwork/config/priv_validator_key.json\n")])])])]),e._v(" "),a("li",[e._v("If you have some special setup in your "),a("code",[e._v("config.toml")]),e._v(" and "),a("code",[e._v("app.toml")]),e._v(" copy that in your new node.")]),e._v(" "),a("li",[e._v("Remove the "),a("code",[e._v("priv_validator_key.json")]),e._v(" file from old server"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("rm")]),e._v(" ~/.commercionetwork/config/priv_validator_key.json\n")])])])]),e._v(" "),a("li",[e._v("Restart the node in your new server"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("systemctl start commercionetword\n")])])])]),e._v(" "),a("li",[e._v("Verify if your validator signs again")])]),e._v(" "),a("h3",{attrs:{id:"move-validator-to-another-server-with-kms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#move-validator-to-another-server-with-kms"}},[e._v("#")]),e._v(" Move validator to another server with "),a("code",[e._v("kms")])]),e._v(" "),a("ol",[a("li",[e._v("Install a full node in the new server")]),e._v(" "),a("li",[e._v("Stop the full node "),a("code",[e._v("commercionetword")]),e._v(" service in the new server"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("systemctl stop commercionetword\n")])])])]),e._v(" "),a("li",[e._v("Copy "),a("code",[e._v("data")]),e._v(" folder to the new server"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("rsync")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-av")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--delete")]),e._v(" ~/.commercionetwork/data/ "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("USER_NEW_SERVER"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("IP_NEW_SERVER"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(":.commercionetwork/data/\n")])])])]),e._v(" "),a("li",[e._v("If you have some special setup in your "),a("code",[e._v("config.toml")]),e._v(" and "),a("code",[e._v("app.toml")]),e._v(" copy that in your new node. Especially setup your "),a("code",[e._v("priv_val_addr")]),e._v(" in "),a("code",[e._v("config.toml")]),e._v(" using the setup of your server.")]),e._v(" "),a("li",[e._v("Enter in your "),a("code",[e._v("kms")]),e._v(" server and stop the "),a("code",[e._v("tmkms")]),e._v(" service"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("systemctl stop tmkms\n")])])])]),e._v(" "),a("li",[e._v("Modify "),a("code",[e._v("tmkms")]),e._v(" config using "),a("code",[e._v("priv_val_addr")]),e._v(" value of your validator"),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[e._v("validator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[e._v("addr")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"tcp://<VALIDATOR_IP>:26658"')]),e._v("\n")])])])]),e._v(" "),a("li",[e._v("Restart "),a("code",[e._v("tmkms")]),e._v(" service"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("systemctl start tmkms\n")])])])]),e._v(" "),a("li",[e._v("Restart the node in your new server"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("systemctl start commercionetword\n")])])])]),e._v(" "),a("li",[e._v("Verify if your validator signs again")])]),e._v(" "),a("h3",{attrs:{id:"resume-validator-after-break-down-with-priv-validator-key-json-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resume-validator-after-break-down-with-priv-validator-key-json-file"}},[e._v("#")]),e._v(" Resume validator after break down with "),a("code",[e._v("priv_validator_key.json")]),e._v(" file")]),e._v(" "),a("p",[e._v("To resume a validator after break down or some other terrible issue that destroy your server you need to have the "),a("code",[e._v("priv_validator_key.json")]),e._v(" saved in a secure place.")]),e._v(" "),a("ol",[a("li",[e._v("Install a full node in the new server")]),e._v(" "),a("li",[e._v("After the node is synced with the chain stop it"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("systemctl stop commercionetword\n")])])])]),e._v(" "),a("li",[e._v("Copy your saved "),a("code",[e._v("priv_validator_key.json")]),e._v(" file in the new server")]),e._v(" "),a("li",[e._v("Restart the node in your new server"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("systemctl start commercionetword\n")])])])]),e._v(" "),a("li",[e._v("Verify if your validator signs again")])]),e._v(" "),a("h3",{attrs:{id:"resume-validator-after-break-down-with-kms"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resume-validator-after-break-down-with-kms"}},[e._v("#")]),e._v(" Resume validator after break down with "),a("code",[e._v("kms")])]),e._v(" "),a("ol",[a("li",[e._v("Install a full node in the new server")]),e._v(" "),a("li",[e._v("After the node is synced with the chain stop it"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("systemctl stop commercionetword\n")])])])]),e._v(" "),a("li",[e._v("Setup your "),a("code",[e._v("priv_val_addr")]),e._v(" in "),a("code",[e._v("config.toml")]),e._v(" using the setup of your server.")]),e._v(" "),a("li",[e._v("Enter in your "),a("code",[e._v("kms")]),e._v(" server and stop the "),a("code",[e._v("tmkms")]),e._v(" service"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("systemctl stop tmkms\n")])])])]),e._v(" "),a("li",[e._v("Modify "),a("code",[e._v("tmkms")]),e._v(" config using "),a("code",[e._v("priv_val_addr")]),e._v(" value of your validator"),a("div",{staticClass:"language-toml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-toml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token table class-name"}},[e._v("validator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token key property"}},[e._v("addr")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"tcp://<VALIDATOR_IP>:26658"')]),e._v("\n")])])])]),e._v(" "),a("li",[e._v("Restart "),a("code",[e._v("tmkms")]),e._v(" service"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("systemctl start tmkms\n")])])])]),e._v(" "),a("li",[e._v("Restart the node in your new server"),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("systemctl start commercionetword\n")])])])]),e._v(" "),a("li",[e._v("Verify if your validator signs again")])]),e._v(" "),a("h2",{attrs:{id:"x-loss-of-blocks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#x-loss-of-blocks"}},[e._v("#")]),e._v(" x% Loss of blocks")]),e._v(" "),a("p",[e._v("What does an x% loss of blocks mean for a validator?")]),e._v(" "),a("p",[e._v("In order to create blocks and extend the blockchain, active validators are selected in proportion to their stake by a pseudo-random mechanism that assigns at a time t a proposer (block proposer) and a fixed pool of validators (committee). The block proposer is assigned the task of proposing the block Bt (block at time t) while the committee is given the task of voting whether the block is hung on the chain or not.")]),e._v(" "),a("p",[e._v("Losing a block for a validator means that this validator was inactive at the time of the committee's choice or that it did not vote towards the execution of the block. Thus, having a validator with an x% loss of blocks means that the validator is only active (100 - x)% of the time when the Bt block is assigned.")]),e._v(" "),a("h2",{attrs:{id:"add-identity-to-your-validator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#add-identity-to-your-validator"}},[e._v("#")]),e._v(" Add identity to your validator")]),e._v(" "),a("p",[e._v("In order to publish the validator icon to any explorer, an identity must be created at "),a("a",{attrs:{href:"https://keybase.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("keybase"),a("OutboundLink")],1),e._v(".\nBelow are the steps to be performed")]),e._v(" "),a("h3",{attrs:{id:"references-keybase"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#references-keybase"}},[e._v("#")]),e._v(" References keybase")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://book.keybase.io/account",target:"_blank",rel:"noopener noreferrer"}},[e._v("Keybase book"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://keybase.io/docs/api/1.0/intro",target:"_blank",rel:"noopener noreferrer"}},[e._v("Keybase API"),a("OutboundLink")],1)])]),e._v(" "),a("h3",{attrs:{id:"_1-registration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-registration"}},[e._v("#")]),e._v(" 1. Registration")]),e._v(" "),a("p",[e._v("In the "),a("a",{attrs:{href:"https://keybase.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Keybase.io"),a("OutboundLink")],1),e._v(" site click on "),a("code",[e._v("Login")]),e._v("; a popup opens where there is a "),a("code",[e._v("Join Keybase")]),e._v(" button. After pressing this button fill in the form fields and submit the request.")]),e._v(" "),a("h3",{attrs:{id:"_2-adding-one-or-more-devices"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-adding-one-or-more-devices"}},[e._v("#")]),e._v(" 2. Adding one or more devices")]),e._v(" "),a("p",[e._v("Install Keybase on a device, start the program and authenticate with the credentials entered during registration. The application displays a prompt to add the device in use.")]),e._v(" "),a("h4",{attrs:{id:"_2-1-program-installation-on-computers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-program-installation-on-computers"}},[e._v("#")]),e._v(" 2.1. Program installation on computers")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://keybase.io/docs/the_app/install_macos",target:"_blank",rel:"noopener noreferrer"}},[e._v("macOS"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://keybase.io/docs/the_app/install_linux",target:"_blank",rel:"noopener noreferrer"}},[e._v("Linux"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://keybase.io/docs/the_app/install_windows",target:"_blank",rel:"noopener noreferrer"}},[e._v("Windows"),a("OutboundLink")],1)])]),e._v(" "),a("h4",{attrs:{id:"_2-2-app-installation-on-iphone-and-android"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-app-installation-on-iphone-and-android"}},[e._v("#")]),e._v(" 2.2. App installation on iPhone and Android")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://apps.apple.com/us/app/keybase-crypto-for-everyone/id1044461770",target:"_blank",rel:"noopener noreferrer"}},[e._v("iPhone/iPad"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://play.google.com/store/apps/details?id=io.keybase.ossifrage&referrer=undefined",target:"_blank",rel:"noopener noreferrer"}},[e._v("Android"),a("OutboundLink")],1)])]),e._v(" "),a("h3",{attrs:{id:"_3-verify-email"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-verify-email"}},[e._v("#")]),e._v(" 3. Verify email")]),e._v(" "),a("p",[e._v("After authenticating, request verification of the email address.")]),e._v(" "),a("h3",{attrs:{id:"_4-add-logo-and-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-add-logo-and-key"}},[e._v("#")]),e._v(" 4. Add logo and key")]),e._v(" "),a("p",[e._v("In the "),a("code",[e._v("people")]),e._v(" section of the program, click on the "),a("code",[e._v("Edit Profile")]),e._v(" button to complete the profile (data and image) and to access the proof list.")]),e._v(" "),a("p",[e._v("From the proof list, select "),a("code",[e._v("Add a PGP key")]),e._v(", then add a locally generated PGP public key or create a new one with the "),a("code",[e._v("Get a new PGP key")]),e._v(" function provided by the application. Generation via the Keybase application is done automatically, the only actions required are:")]),e._v(" "),a("ul",[a("li",[e._v("Fill out the form ("),a("code",[e._v("full name")]),e._v(" and "),a("code",[e._v("email")]),e._v(");")]),e._v(" "),a("li",[e._v("At the end of generation decide to save or not to Keybase the private key by encrypting it.")])]),e._v(" "),a("p",[e._v("After adding the key you will be able to access your account image using the "),a("code",[e._v("https://keybase.io/_/api/1.0/user/lookup.json?key_suffix=[id]&fields=pictures")]),e._v(" endpoint, where "),a("code",[e._v("[id]")]),e._v(" consists of the first 16 hexadecimal digits of the PGP key.")]),e._v(" "),a("h3",{attrs:{id:"_5-edit-your-validator-adding-identity"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-edit-your-validator-adding-identity"}},[e._v("#")]),e._v(" 5. Edit your validator adding identity")]),e._v(" "),a("p",[e._v("In order to add the identity to your validator you need to edit the validator profile with a transaction."),a("br"),e._v(" "),a("strong",[e._v("Warning: put the values of "),a("code",[e._v("moniker")]),e._v(", "),a("code",[e._v("website")]),e._v(" and "),a("code",[e._v("details")]),e._v(" according with your environment")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("IDENTITY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"[id]"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#ID that you obtained in the previous step. Something like 21C53B7B20C1145D")]),e._v("\ncommercionetworkd tx staking edit-validator "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--moniker")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$NODENAME")]),e._v('"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--identity")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$IDENTITY")]),e._v('"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--website")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"your website (leave blank if you don\'t have it)"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--details")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"description of your node (leave blank if you don\'t have it)"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  --chain-id"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"commercio-3"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--from")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("CREATOR ADDRESS"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("--fees")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("10000ucommercio "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-y")]),e._v("\n")])])]),a("p",[a("em",[e._v("N.B.: after editing the profile the "),a("code",[e._v("Edit Profile")]),e._v(" button will disappear, in its place will be the "),a("code",[e._v("Prove your identies")]),e._v(" button until the identity is proven")])])])}),[],!1,null,null,null);a.default=s.exports}}]);